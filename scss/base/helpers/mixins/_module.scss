// /**
//  * Copyright (C) 2013 Crossing Hippos - Babs GÃ¶sgens. All rights reserved.
//  * Licensed under GNU General Public License version 2 or later; see LICENSE.txt
//  */
@if $trace-imports { @debug 'imported'; }


	// **
	// Mixin sides
	// @param $values: an array of 1 or 4 values
	// @param $property: a string (e.g. padding, margin, or border)
	// **
	@mixin sides($values, $property)
	{
		$length: length($values);

		// **
		// Do not accept arrays of 2 and 3 
		// **
		@if $length==2 or  $length==3 {
			@warn "Wrong value for first parameter: mixin accepts either a single value or an array of four values.";
		}


		@if $length==1 {
			@include side($values, $property);
		}


		@if $length==4  {

			$compact: true;
			@each $value in $values {
				@if $value==false {
					$compact: false;
				}
			}

			@if $compact {

				@if nth($values, index($sides, top))==nth($values, index($sides, bottom)) and nth($values, index($sides, right))==nth($values, index($sides, left)) {
					#{$property}: nth($values,1) nth($values,2);
				}
				@else {
					@include side($values, $property);
				}
			}
			@else {
				@each $value in $values {

					@if $value {

						$i: index($values, $value);
						$side: padding-#{nth($sides,$i)};

						@include side($value, $side);
					}
				}
			}

		}
	}

	@mixin side($values, $property)
	{
		#{$property}: $values;
	}

	// Expects a nested list in the format (border-width, border-style, border-color), border-radius
	// Use false if a value should not be rendered (0 is a valid value)
	@mixin module-border($border: 0, $border-collapse: true) {

		$border-width: nth($border,1);
		$border-style: nth($border,2);
		$border-color: nth($border,3);
		// $border-radius: nth($border,4);

		@if length($border-width)>1 or length($border-style)>1 or length($border-color)>1 {
			
			// Render individual border properties
			@if $border-width!=false {
				border-width: $border-width;
			}
			@if $border-style!=false {
				border-width: $border-style;
			}
			@if $border-color!=false {
				border-color: $border-color;
			}

		}
		@else {

			@if $border-width==false or $border-style==false or $border-color==false {

				// Render individual border properties
				@if $border-width!=false {
					border-width: $border-width;
				}
				@if $border-style!=false {
					border-style: $border-style;
				}
				@if $border-color!=false {
					border-color: $border-color;
				}
			}
			@else {
				border: $border-width $border-style $border-color;
			}

		}
		
		// // Render the rounded corners
		// @if $border-radius {
		// 	@include border-radius($border-radius);
		// }
	}

	// Expects an array of four values
	// Use false if a value should not be rendered (0 is a valid value)
	@mixin module-margin($margin) {

		// Extract the individual variables from the list
		$top:    nth($margin, 1);
		$right:  nth($margin, 2);
		$bottom: nth($margin, 3);
		$left:   nth($margin, 4);

		// Determine if we have all the values for shorthand notation
		$shorthand: true;
		@if $top==false    { $shorthand: false; }
		@if $right==false  { $shorthand: false; }
		@if $bottom==false { $shorthand: false; }
		@if $left==false   { $shorthand: false; }

		@if $shorthand {
			margin: $top $right $bottom $left;
		}
		@else {
			@if $top    { margin-top: $top; }
			@if $right  { margin-right: $right; }
			@if $bottom { margin-bottom: $bottom; }
			@if $left   { margin-left: $left; }
		}
	}

	// Expects a (list of) valid shadow notation(s) or false if no shadow should be rendered
	@mixin module-shadow($shadow) {
		@if $shadow {
			@include box-shadow($shadow);
		}
	}

	// Expects a list in the format of button-text-color, button-text-shadow, button-text-align;
	@mixin module-text($text) {

		$text-color: nth($text,1);
		$text-shadow: nth($text,2);
		$text-align: nth($text,3);

		@if $text-color {
			color: $text-color;
		}
		@if $text-shadow {
			@include text-shadow($text-shadow);
		}
		@if $text-align {
			text-align: $text-align;
		}
	}